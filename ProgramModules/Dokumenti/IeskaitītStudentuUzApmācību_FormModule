&НаКлиенте
Процедура MacibuGadsПриИзменении(Элемент)
	
	Элементы.Grupa.Видимость = Ложь;
	
	Если Объект.MacibuGads <> 0 Тогда
	
		Элементы.Grupa.Видимость = Истина;		
	
	КонецЕсли; 
	
КонецПроцедуры


&НаКлиенте
Процедура GrupaНачалоВыбора(Элемент, ДанныеВыбора, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
    
    Ф = ПолучитьФорму("Справочник.Grupas.ФормаВыбора");
    Список = Ф.Список;
    Список.Отбор.Элементы.Очистить();    
    
    СписокОтбора = Новый СписокЗначений;
    СписокОтбора.Добавить(Объект.MacibuGads);
    
    Отбор = Список.Отбор.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных")); 
    Отбор.ЛевоеЗначение = Новый ПолеКомпоновкиДанных("MacibuGads"); 
    Отбор.ВидСравнения = ВидСравненияКомпоновкиДанных.ВСписке; 
    Отбор.Использование = Истина; 
    Отбор.ПравоеЗначение = СписокОтбора;
    
    Объект.Grupa = Ф.ОткрытьМодально();
	
КонецПроцедуры


&НаСервере
Процедура GrupaПриИзмененииНаСервере()
	
	MacibuPrograma = Объект.Grupa.MacibuProgramma;
	Nodala = Объект.Grupa.Nodala;
	
КонецПроцедуры


&НаСервере
Процедура ПередЗаписьюНаСервере(Отказ, ТекущийОбъект, ПараметрыЗаписи)
	
	Объект.Vards = СокрЛП(Объект.Vards);
	Объект.Uzvards = СокрЛП(Объект.Uzvards);
	
	Если Справочники.Studenti.НайтиПоНаименованию(Объект.Vards + " " + Объект.Uzvards) <> Справочники.Studenti.ПустаяСсылка() И Справочники.Studenti.НайтиПоНаименованию(Объект.Vards + " " + Объект.Uzvards) <> Неопределено Тогда
	
		Сообщить("Students ar tadu vardu un uzvardu jau ir datubaze!");
		Отказ = Истина;
	
	КонецЕсли;
	
	Если Объект.DzimsanasDate <> '00010101' И Объект.DzimsanasDate >= ТекущаяДата() Тогда
	
		Сообщить("Datums ir aizpildīts nekorekti!");
		Отказ = Истина;
	
	КонецЕсли;

	
КонецПроцедуры
